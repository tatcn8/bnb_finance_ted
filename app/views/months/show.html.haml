- content_for :title, "Past Data"
%h1
  For the month of #{@month.name} #{@month.year}
%h3
  Overall Data:
  = column_chart(@total_data, xtitle: "#{@month.name} #{@month.year} Data", ytitle: "Amount in dollars ($USD)", stacked: true)
-unless @last_month.nil?
  Last Month's Comparison:
  = column_chart(@last_month_comparison, xtitle: "#{@last_month.name} #{@last_month.year} and #{@month.name} #{@month.year} Comparison Data" , ytitle: "Amount in dollars ($USD)", stacked: true)
- if @month.cover_picture.attached?
  = image_tag @month.cover_picture, style: "width: 300px; height: 400px"
%p
  = link_to "Go Back", months_path
%p
  = link_to "Edit this Month", edit_month_path(@month)
%p
  = link_to "Delete this Month", month_path(@month), data: { |
      turbo_method: :delete,                                 |
      turbo_confirm: "Are you sure?"                         |
    }                                                        |    

= render "table", total: @month.sum_income_realized, header: 'Realized Income:', shows_earner: true, collection: @month.incomes.select { |income| income.status == "Realized" }
= render "table", total: @month.sum_income_expected, header: 'Expected Income:', shows_earner: true, collection: @month.incomes.select { |income| income.status == "Expected" }

%h6 Add an Income:
= render 'incomes/form'
%br
= render "table", total: @month.sum_expense_realized, header: 'Realized Expenses:', shows_earner: false, collection: @month.expenses.select { |expense| expense.status == "Realized" }
= render "table", total: @month.sum_expense_expected, header: 'Expected Expenses:', shows_earner: false, collection: @month.expenses.select { |expense| expense.status == "Expected" }
%h6 Add an expense:
= render 'expenses/form'
